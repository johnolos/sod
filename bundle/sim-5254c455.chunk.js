import{t as e,u as t,i as a,v as i,w as s,m as r,a as n,x as o,r as l,b as c,y as d,B as u,M as p,J as f,q as m,T as S,s as h,I as g}from"./preset_utils-e791bfd5.chunk.js";import{A as b,ac as T,ad as k,dB as y,S as F,df as A,dC as w,q as C,bz as I,bA as P,bD as M,bx as x,bI as R,bB as v,bC as O,E as D,a as B,O as E,aa as H,dn as N,c as W,o as L,bJ as j,ab as U,db as V,d7 as $,t as q,dc as J,aC as G,j as _,C as z,aq as K,a$ as Q,x as X,T as Y}from"./detailed_results-50fb450f.chunk.js";import{s as Z}from"./apl_utils-550077f7.chunk.js";e({fieldName:"innervateTarget",actionId:b.fromSpellId(29166),extraCssClasses:["within-raid-sim-hide"],getValue:e=>e.getSpecOptions().innervateTarget?.type==T.Player,setValue:(e,t,a)=>{const i=t.getSpecOptions();i.innervateTarget=k.create({type:a?T.Player:T.Unknown,index:0}),t.setSpecOptions(e,i)}});const ee=t({fieldName:"latencyMs",label:"Latency",labelTooltip:"Player latency, in milliseconds. Adds a delay to actions that cannot be spell queued."});a({fieldName:"assumeBleedActive",label:"Assume Bleed Always Active",labelTooltip:"Assume bleed always exists for 'Rend and Tear' calculations. Otherwise will only calculate based on own rip/rake/lacerate.",extraCssClasses:["within-raid-sim-hide"]});const te={inputs:[i({fieldName:"minCombosForRip",label:"Min Rip CP",labelTooltip:"Combo Point threshold for allowing a Rip cast",float:!1,positive:!0}),i({fieldName:"maxWaitTime",label:"Max Wait Time",labelTooltip:"Max seconds to wait for an Energy tick to cast rather than powershifting",float:!0,positive:!0}),i({fieldName:"preroarDuration",label:"Pre-Roar Duration",labelTooltip:"Seconds remaining on a prior Savage Roar buff at the start of the pull",float:!0,positive:!0}),s({fieldName:"maintainFaerieFire",label:"Maintain Faerie Fire",labelTooltip:"If checked, bundle Faerie Fire refreshes with powershifts. Ignored if an external Faerie Fire debuff is selected in settings."}),s({fieldName:"precastTigersFury",label:"Pre-cast Tiger's Fury",labelTooltip:"If checked, model a pre-pull Tiger's Fury cast 3 seconds before initiating combat."}),s({fieldName:"useShredTrick",label:"Use Shred Trick",labelTooltip:'If checked, enable the "Shred trick" micro-optimization. This should only be used on short fight lengths with full powershifting uptime.'})]},ae={items:[{id:211510},{id:209422},{id:209692},{id:213087,enchant:247},{id:211512,enchant:847,rune:407977},{id:209524,enchant:823},{id:211423,rune:407995},{id:209421},{id:10410,rune:407988},{id:211511,enchant:247},{id:20439},{id:6321},{id:211449},{id:4381},{id:209577,enchant:723},{},{id:209576}]},ie={type:"TypeAPL",prepullActions:[{action:{activateAura:{auraId:{spellId:407988}}},doAtValue:{const:{val:"-8s"}}}],priorityList:[{action:{autocastOtherCooldowns:{}}},{action:{catOptimalRotationAction:{maxWaitTime:2,minCombosForRip:3}}}]},se=r("Blank",{items:[]}),re=r("Phase 1",ae),ne=n("APL Default",ie),oe=y.create({maintainFaerieFire:!1,minCombosForRip:3,maxWaitTime:2,preroarDuration:26,precastTigersFury:!1,useShredTrick:!1}),le=o("Simple Default",F.SpecFeralDruid,oe),ce={name:"Standard",data:A.create({talentsString:"500005001--05"})},de=w.create({latencyMs:100,assumeBleedActive:!0}),ue=C.create({flask:I.FlaskUnknown,food:P.FoodSmokedSagefish,defaultPotion:M.ManaPotion,defaultConjured:x.ConjuredMinorRecombobulator,mainHandImbue:R.BlackfathomSharpeningStone,agilityElixir:v.ElixirOfLesserAgility,strengthBuff:O.ElixirOfOgresStrength,boglingRoot:!0}),pe={profession2:D.Leatherworking},fe=l(F.SpecFeralDruid,{cssClass:"feral-druid-sim-ui",cssScheme:"druid",knownIssues:[],warnings:[],epStats:[B.StatStrength,B.StatAgility,B.StatAttackPower,B.StatFeralAttackPower,B.StatMeleeHit,B.StatMeleeCrit,B.StatMeleeHaste,B.StatMana,B.StatIntellect,B.StatSpirit,B.StatMP5],epPseudoStats:[],epReferenceStat:B.StatAttackPower,displayStats:[B.StatHealth,B.StatStrength,B.StatAgility,B.StatAttackPower,B.StatFeralAttackPower,B.StatMeleeHit,B.StatMeleeCrit,B.StatMeleeHaste,B.StatMana,B.StatIntellect,B.StatSpirit,B.StatMP5],defaults:{gear:re.gear,epWeights:c.fromMap({[B.StatStrength]:2.2,[B.StatAgility]:2.02,[B.StatAttackPower]:1,[B.StatFeralAttackPower]:1,[B.StatMeleeHit]:8.21,[B.StatMeleeCrit]:8.19,[B.StatMeleeHaste]:4.17,[B.StatMana]:.04,[B.StatIntellect]:.67,[B.StatSpirit]:.08,[B.StatMP5]:.46},{}),consumes:ue,rotationType:E.TypeSimple,simpleRotation:oe,talents:ce.data,specOptions:de,raidBuffs:H.create({aspectOfTheLion:!0,arcaneBrilliance:!0,giftOfTheWild:N.TristateEffectRegular,battleShout:N.TristateEffectRegular}),partyBuffs:W.create({}),individualBuffs:L.create({blessingOfMight:N.TristateEffectImproved,blessingOfWisdom:N.TristateEffectRegular,boonOfBlackfathom:!0,ashenvalePvpBuff:!0,saygesFortune:j.SaygesDamage}),debuffs:U.create({judgementOfWisdom:!1,giftOfArthas:!1,exposeArmor:N.TristateEffectMissing,faerieFire:!1,sunderArmor:!0,curseOfRecklessness:!1,homunculi:0,curseOfVulnerability:!0,ancientCorrosivePoison:30}),other:pe},playerIconInputs:[],rotationInputs:te,includeBuffDebuffInputs:[d,u,p,f],excludeBuffDebuffInputs:[R.ElementalSharpeningStone,R.DenseSharpeningStone,R.WildStrikes,m],otherInputs:{inputs:[ee,S,h]},encounterPicker:{showExecuteProportion:!1},presets:{talents:[ce],rotations:[le,ne],gear:[se,re]},autoRotation:e=>ne.rotation.rotation,simpleRotation:(e,t,a)=>{let[i,s]=Z(a);const r=Math.min(t.preroarDuration,33),n=V.fromJsonString(`{"action":{"activateAura":{"auraId":{"spellId":407988}}},"doAtValue":{"const":{"val":"-${(34-r).toFixed(2)}s"}}}`),o=V.fromJsonString('{"action":{"castSpell":{"spellId":{"spellId":5217,"rank":1}}},"doAtValue":{"const":{"val":"-3s"}}}'),l=$.fromJsonString(`{"catOptimalRotationAction":{"maxWaitTime":${t.maxWaitTime.toFixed(2)},"minCombosForRip":${t.minCombosForRip.toFixed(0)},"maintainFaerieFire":${t.maintainFaerieFire},"useShredTrick":${t.useShredTrick}}}`);return i.push(...[r>0?n:null,t.precastTigersFury?o:null].filter((e=>e))),s.push(...[l].filter((e=>e))),q.create({prepullActions:i,priorityList:s.map((e=>J.create({action:e})))})},raidSimPresets:[{spec:F.SpecFeralDruid,tooltip:G[F.SpecFeralDruid],defaultName:"Cat",iconUrl:_(z.ClassDruid,3),talents:ce.data,specOptions:de,consumes:ue,defaultFactionRaces:{[K.Unknown]:Q.RaceUnknown,[K.Alliance]:Q.RaceNightElf,[K.Horde]:Q.RaceTauren},defaultGear:{[K.Unknown]:{},[K.Alliance]:{1:re.gear},[K.Horde]:{1:re.gear}}}]});class me extends g{constructor(e,t){super(e,t,fe)}calcArpTarget(e){let t=1399;e.hasTrinket(45931)?t-=751:e.hasTrinket(40256)&&(t-=612);const a=e.getEquippedItem(X.ItemSlotMainHand);return null!=a&&null!=a.enchant&&3225==a.enchant.effectId&&(t-=120),t}calcCritCap(e){let t=0;return e.hasRelic(47668)&&(t+=200),e.hasRelic(50456)&&(t+=220),(e.hasTrinket(47131)||e.hasTrinket(47464))&&(t+=510),(e.hasTrinket(47115)||e.hasTrinket(47303))&&(t+=450),(e.hasTrinket(44253)||e.hasTrinket(42987))&&(t+=300),(new c).withStat(B.StatMeleeCrit,45.91*(77.8-1.1*t*1.06*1.02/83.33))}async updateGear(e){return this.player.setGear(Y.nextEventID(),e),await this.sim.updateCharacterStats(Y.nextEventID()),c.fromProto(this.player.getCurrentStats().finalStats)}detectArpStackConfiguration(e){const t=c.fromProto(this.player.getCurrentStats().finalStats).getStat(B.StatArmorPenetration);return e>1e3&&t>648&&t+20<e+11}}export{me as F};
//# sourceMappingURL=sim-5254c455.chunk.js.map
